<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backend projects</title>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link  rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Akaya+Telivigala&family=Poppins:ital,
                wght@0,200;0,400;0,600;1,200&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>
    <section class="header">
        <nav>
            <a class="a-logo" href="index.html"><h1>LOGO</h1></a>
            
                <div class="nav-links" id="navLinks">
                    <i class="fa-fa-times" onclick="hideMenu()"></i>
                    <ul>
                        <li><a href="index.html">HOME</a></li>
                        <li><a href="about.html">ABOUT</a></li>
                        <li><a href="bmi2.html">BMI CALCULATOR</a></li>
                       
                        <li><a href="calculator.html">CALCULATOR</a></li>
                        <li><a href="weathermap.html">WEATHER CONDITION</a></li>
                    </ul>
                
                </div> 
        </nav>
        <section class="weather">
            <div class="container-fluidMap">
                <section class="main-weather">
                    <section class="inputs-weather">
                        <input type="text" placeholder="Enter any city..." id="cityinput">
                 
                        <input type="submit" value="Submit" id="add">
                    </section>

                    <section class="display-weather">
                        <div class="wrapper-weather">
                          <h2 id="cityoutput"></h2>
                          <p id="description"></p>
                          <p id="temp"></p>
                          <p id="wind"></p>
                        </div>
                    </section>
          
                </section>
            </div>

        </section>
    </section>





            <!--footer-->
            <section class="footer">
                <h4>About Us</h4>
                <p>HI, I'M AMARA
                    Iâ€™ve been a passionate advocate for sustainable style since 2015.  I watched the documentary the True Cost and I was forever changed.  I am by no means perfect, but I try my best to live by the values that are
                     important to me, and that extends itself to my clothes. </p>
                     <div class="icons">
                        <i class="fa fa-facebook"></i>
                        <i class="fa fa-twitter"></i>
                        <i class="fa fa-instagram"></i>
                        <i class="fa fa-linkedin"></i>
                     </div>
                     <p>Made with<i class="fa fa-heart-o"></i> by Amazinggraceu</p>
            </section>

            <script type="text/javascript">
                var inputval = document.querySelector('#cityinput')
                var btn = document.querySelector('#add');
                var city = document.querySelector('#cityoutput')
                var descrip = document.querySelector('#description')
                var temp = document.querySelector('#temp')
                var wind = document.querySelector('#wind')
                apik = "d95f167d4b404b819885cfb9060d8358"
                //convert to celsius
                function convertion(val){
                    return (val - 273).toFixed(2)
                }
                //collect all the information with the help of fetch method
                btn.addEventListener('click', function(){  
                    //This is the api link 
                    fetch('https://api.openweathermap.org/data/2.5/weather?q='+inputval.value+'&appid='+apik)
                    .then(res => res.json())
                    .then(data => {
                
                        let nameval = data['name']
                        let descrip = data['weather']['0']['description']
                        let tempature = data['main']['temp']
                        let wndspd = data['wind']['speed']


                        city.innerHTML=`Weather of <span>${nameval}<span>`
                        temp.innerHTML = `Temperature: <span>${ convertion(tempature)} C</span>`
                        description.innerHTML = `Sky Conditions: <span>${descrip}<span>`
                        ind.innerHTML = `Wind Speed: <span>${wndspd} km/h<span>`

                    })
        
                    //.catch(err => alert('You entered Wrong city name'))
                })
                
            </script>
        </body>
</html>